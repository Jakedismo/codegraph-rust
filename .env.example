# CodeGraph env example (copy to .env). Prefer env vars over committing secrets.

# --- Project identity ---
# CODEGRAPH_PROJECT_ID=my-project
# CODEGRAPH_ORGANIZATION_ID=my-org
# CODEGRAPH_REPOSITORY_URL=https://github.com/user/repo
# CODEGRAPH_DOMAIN=example.com

# --- Embeddings ---
CODEGRAPH_EMBEDDING_PROVIDER=ollama          # ollama | openai | jina | lmstudio | onnx
CODEGRAPH_EMBEDDING_DIMENSION=1024
CODEGRAPH_EMBEDDINGS_BATCH_SIZE=64           # batch per provider call
# CODEGRAPH_CHUNK_MAX_TOKENS=1024             # override model max tokens for chunking
# CODEGRAPH_EMBEDDING_SKIP_CHUNKING=0         # set 1 to disable chunking and embed nodes directly

# --- Reranking (optional) ---
# CODEGRAPH_RERANKING_PROVIDER=jina           # jina | ollama
# CODEGRAPH_RERANKING_MODEL=jina-reranker-v3
# CODEGRAPH_RERANKING_CANDIDATES=256
# CODEGRAPH_RERANKING_TOP_N=10

# --- Performance / concurrency ---
CODEGRAPH_WORKERS=4                          # caps Rayon threads
CODEGRAPH_MAX_CONCURRENT=4                   # concurrent embedding requests
# CODEGRAPH_SYMBOL_BATCH_SIZE=500
# CODEGRAPH_SYMBOL_MAX_CONCURRENT=4

# --- SurrealDB ---
CODEGRAPH_SURREALDB_URL=ws://localhost:3004
CODEGRAPH_SURREALDB_NAMESPACE=codegraph
CODEGRAPH_SURREALDB_DATABASE=main
# CODEGRAPH_SURREALDB_USERNAME=root
# CODEGRAPH_SURREALDB_PASSWORD=your_password

# --- Provider endpoints & keys ---
CODEGRAPH_OLLAMA_URL=http://localhost:11434
# CODEGRAPH_LMSTUDIO_URL=http://localhost:1234
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=...
# JINA_API_KEY=...
# XAI_API_KEY=...
# OPENAI_API_BASE=https://api.openai.com/v1    # for openai-compatible providers

# --- LLM (for agent responses) ---
CODEGRAPH_LLM_PROVIDER=ollama                # ollama | openai | anthropic | openai-compatible | xai | lmstudio
CODEGRAPH_MODEL=qwen2.5-coder:14b
CODEGRAPH_CONTEXT_WINDOW=32768
#MCP_CODE_AGENT_MAX_OUTPUT_TOKENS=52000 # Hard-cap since f.ex. claude code doesn't support more than 64K and might crash on such outputs
# --- Server / daemon ---
CODEGRAPH_HTTP_HOST=127.0.0.1
CODEGRAPH_HTTP_PORT=3003
# CODEGRAPH_DAEMON_AUTO_START=true
# CODEGRAPH_WATCH=1                           # enable file watching when supported

# --- Logging ---
RUST_LOG=info

# --- AutoAgents ---
# CODEGRAPH_AUTOAGENTS_EXPERIMENTAL=1
# MCP_CODE_AGENT_MAX_OUTPUT_TOKENS=4096      # hard cap for autoagents responses

# --- Jina specific (when provider=jina) ---
# JINA_API_KEY=...
# JINA_API_BASE=https://api.jina.ai/v1
# JINA_REQUEST_DELAY_MS=200                  # throttle Jina requests if needed
